{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="{% static 'vendor/css/rtl/core.css' %}" class="template-customizer-core-css" />
    <link rel="stylesheet" href="{% static 'vendor/css/rtl/theme-default.css' %}" class="template-customizer-theme-css" />
    <link rel="stylesheet" href="{% static 'css/demo.css' %}" />
</head>
<body>
    <div class="container-fluid" style="margin-top: 150px; width: 800px; align-items: center;">
        <div class="card-body mt-1">
            <h4 class="mb-1">Reset Password ðŸ”’</h4>
            <p class="mb-5">Set Your new password</p>
            <form class="mb-5" method="post" onsubmit="return validatePassword()">
                {% csrf_token %}
                <div class="mb-5 form-password-toggle">
                    <div class="input-group input-group-merge">
                        <div class="form-floating form-floating-outline">
                            <input type="password" id="password" class="form-control" name="new_password" placeholder="New Password">
                            <label for="password">New Password</label>
                        </div>
                        <span class="input-group-text cursor-pointer"><i class="ri-eye-off-line ri-20px"></i></span>
                    </div>
                    <small id="passwordError" style="color:red; display:none;">Password must be at least 8 characters long and contain no spaces.</small>
                </div>

                <div class="mb-5 form-password-toggle">
                    <div class="input-group input-group-merge">
                        <div class="form-floating form-floating-outline">
                            <input type="password" id="confirm-password" class="form-control" name="confirm_password" placeholder="Confirm Password">
                            <label for="confirm-password">Confirm Password</label>
                        </div>
                        <span class="input-group-text cursor-pointer"><i class="ri-eye-off-line ri-20px"></i></span>
                    </div>
                    <small id="confirmPasswordError" style="color:red; display:none;">Passwords do not match.</small>
                </div>

                <button type="submit" class="btn btn-primary d-grid w-100 mb-5">Set new password</button>
                <div class="text-center">
                    <a href="auth-login-basic.html" class="d-flex align-items-center justify-content-center">
                        <i class="ri-arrow-left-s-line"></i> Back to login
                    </a>
                </div>
            </form>
        </div>
    </div>






      <script>
        function validatePassword() {
            var password = document.getElementById('password').value;
            var confirmPassword = document.getElementById('confirm-password').value;
            var passwordError = document.getElementById('passwordError');
            var confirmPasswordError = document.getElementById('confirmPasswordError');

            // Reset error messages
            passwordError.style.display = 'none';
            confirmPasswordError.style.display = 'none';

            // Password should be at least 8 characters and contain no spaces
            var passwordPattern = /^[^\s]{8,}$/;
            if (!passwordPattern.test(password)) {
                passwordError.style.display = 'block';
                return false;  // Prevent form submission
            }

            // Check if passwords match
            if (password !== confirmPassword) {
                confirmPasswordError.style.display = 'block';
                return false;  // Prevent form submission
            }

            return true;  // Allow form submission
        }
    </script>
</body>
</html>